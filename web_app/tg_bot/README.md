# Структура 
Папка core содержит все элементы бота. 

Папки user_data и photo_from_csv используются для сохранения фото\аудио от пользователя и 
найденных изображений в исходном датасете соответственно.

Для работы моделей используется датасет new_hack.csv. 

## Handlers

Основные хендлеры находятся в папке handlers.

* base_cmds.py - стартовая команда, сохраняет айди пользователя для логирования. 
* guide.py - сервис общения с гидом.
* photo_search.py - сервис поиска объекта по фотографии.
* start_dialog.py - хендлеры обработки нажатия кнопок в главном меню.
* text_search.py - сервиса поиска объекта по короткому тексту от пользователя.

## Callbacks

Колбеки находятся в папке callbacks.

Используется один колбек для обработки нажатия
инлайн кнопки построения маршрута к найденному объетку от пользователя.

## Utils

В этой папке находится обработка гео запроса, а так же модели транскрипции аудио
от пользователя, генерации аудио ответа гида и поиска объетка в датасете 
по короткому тексту от пользователя

## БД
СУБД - Postgres17

SQLAlchemy версии 2.0.36.

Структура таблицы

| Колонка          | Описание                                      |
|------------------|-----------------------------------------------|
| tg_id            | телеграмм айди пользователя                   |
| client_action    | Действие, которое сделал пользователь         |
| bot_answer_text  | Текстовый ответ бота на действие пользователя |
| bot_answer_image | Изображение в ответе бота (если есть)         |



# Структура new_hack.csv
| Column      | Dtype   |  
|-------------|---------|  
 | Name        | object  | 
 | WikiData    | object  |
 | City        | object  |
 | Lon         | float64 |
 | Lat         | float64 |
 | description | object  |
 | image       | object  |
 | en_txt      | object  |
 | category    | object  |
 | ru_txt      | object  |
 | clip_lables | object  |
# Requirements
| lib        | version |
|------------|---------|
| aiogram    | 3.15.0  |
| geopy      | 2.4.1   |
| numpy      | 2.2.0   |
| pandas     | 2.2.3   |
| SQLAlchemy | 2.0.36  |





